"use strict";function Paralax(t,e,i,a,o,s){var n;if(s||(n=992),s&&(n=s),null!==t&&window.innerWidth>n){var r=parseInt(getComputedStyle(document.body).fontSize)/20,l=t.clientHeight/(a*r);if(window.pageYOffset+t.clientHeight>t.offsetTop){var c=window.pageYOffset;o&&e.setAttribute("style","top:"+l+";"),TweenMax.to(e,i,{y:c/(a*r)})}}window.innerWidth>n||(e.setAttribute("style","top:transform:"),e.css("transform",""))}$(".footer").length&&$(window).scroll(function(t){var e=$(".footer").offset().top,i=$(".button-list").innerHeight();console.log($(window).scrollTop()),console.log($(".button-list").css("background-color")),console.log(i),console.log(e),$(window).scrollTop()+$(window).innerHeight()>e+i/2?$(".button-list").css("background-color","#0f1032"):$(".button-list").css("background-color","#191a39")}),document.addEventListener("scroll",function(t){Paralax(document.querySelector(".fs-image-container"),document.querySelector(".fs-image-container img"),.1,3,!1,1);var e;null!==document.querySelector(".scroll-block")&&document.querySelectorAll(".scroll-block").forEach(function(t){t.offsetTop-120<window.pageYOffset&&t.offsetTop+t.clientHeight>window.pageYOffset&&(e=t.getAttribute("id"),document.querySelector(".advisor-navigation-item a[href='#"+e+"']").closest(".advisor-navigation-item").classList.contains("active")||(document.querySelectorAll(".advisor-navigation-item").forEach(function(t){t.classList.remove("active")}),document.querySelector(".advisor-navigation-item a[href='#"+e+"']").closest(".advisor-navigation-item").classList.add("active")))})});var activeInput=function(t){""!==t.val()?t.closest(".wrap-input").find(".wrap-input__label").addClass("active"):t.closest(".wrap-input").find(".wrap-input__label").removeClass("active")};$(".wrap-input__input").keyup(function(){activeInput($(this))}),$(".wrap-input__input").focusout(function(){activeInput($(this))}),$(".burger").click(function(){$(".mobile-menu").toggleClass("active"),$(".mobile-menu").hasClass("active")?$("body").addClass("modal-open"):$("body").removeClass("modal-open")});var tgValidation=function(t){return console.log(parseInt(t)),isNaN(parseInt(t))?/@([a-zA-Z0-9]{4,})/.test(t):/^(\s*)?(\+)?([-()]?\d[-()]?){10,14}(\s*)?$/.test(t)},urlValidation=function(t){return/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/.test(t)};$(".reqiered-field").keyup(function(t){""==$(this).val()?($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmptyError),sendForm=!1):"email"==$(this).attr("name")?""==$(this).val()?($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmptyError),sendForm=!1):/^[a-z0-9][a-z0-9-_\.]+@([a-z]|[a-z0-9]?[a-z0-9-]+[a-z0-9])\.[a-z0-9]{2,10}(?:\.[a-z]{2,10})?$/.test($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmailError),sendForm=!1):"tg"==$(this).attr("data-name")?tgValidation($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(TgError),sendForm=!1):"link"==$(this).attr("data-name")?urlValidation($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(UrlError),sendForm=!1):$(this).closest(".input-item").removeClass("validation-error")}),$(".reqiered-field").focusout(function(t){$(this).hasClass("drop-input")||(""==$(this).val()?($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmptyError),sendForm=!1):"email"==$(this).attr("name")?""==$(this).val()?($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmptyError),sendForm=!1):/^[a-z0-9][a-z0-9-_\.]+@([a-z]|[a-z0-9]?[a-z0-9-]+[a-z0-9])\.[a-z0-9]{2,10}(?:\.[a-z]{2,10})?$/.test($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmailError),sendForm=!1):"tg"==$(this).attr("data-name")?tgValidation($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(TgError),sendForm=!1):"link"==$(this).attr("data-name")?urlValidation($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(UrlError),sendForm=!1):$(this).closest(".input-item").removeClass("validation-error"))});var sendForm;$("form").on("submit",function(t){t.preventDefault();$(this);if(sendForm=!0,$(".g-recaptcha").length&&""==$("#g-recaptcha-response").val()&&(sendForm=!1),$(this).find(".reqiered-field").each(function(){""==$(this).val()?($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmptyError),sendForm=!1):"email"==$(this).attr("name")?""==$(this).val()?($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmptyError),sendForm=!1):/^[a-z0-9][a-z0-9-_\.]+@([a-z]|[a-z0-9]?[a-z0-9-]+[a-z0-9])\.[a-z0-9]{2,10}(?:\.[a-z]{2,10})?$/.test($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(EmailError),sendForm=!1):"tg"==$(this).attr("data-name")?tgValidation($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(TgError),sendForm=!1):"link"==$(this).attr("data-name")?urlValidation($(this).val())?$(this).closest(".input-item").removeClass("validation-error"):($(this).closest(".input-item").addClass("validation-error"),$(this).closest(".input-item").find(".error span").html(UrlError),sendForm=!1):$(this).closest(".input-item").removeClass("validation-error")}),sendForm){$(".list-form button[type ='submit']").attr("disabled",!0);var e=$(this),i=new FormData(e.get(0));$.ajax({url:$(this).attr("action"),type:"POST",contentType:!1,processData:!1,data:i,success:function(t){$(".list-form button[type ='submit']").attr("disabled",!1),e.hasClass("nomodal")?($("body").removeClass("modal-open"),$(".list-form .success-mess").addClass("active")):($(".thk-modal").addClass("active"),$("body").addClass("modal-open")),e.find(".form-input").each(function(){$(this).hasClass("noclear")||($(this).val(""),$(".wrap-input__label").removeClass("active"),$(".select-txt").html(""),$(".file-name").html(""))})},error:function(t,i,a){$(".list-form button[type ='submit']").attr("disabled",!1),e.hasClass("nomodal")?($("body").removeClass("modal-open"),$(".list-form .success-mess").addClass("active")):($(".err-modal").addClass("active"),$("body").addClass("modal-open"))}})}}),$(".close-trigger").click(function(){$(".modal").removeClass("active"),$(".mobile-menu").removeClass("active"),$(".sidebar").removeClass("active"),$("body").removeClass("modal-open")}),$(".radio-form-list").on("change",function(){var t=$(this).attr("data-head");$(".variable-title").html(t)}),document.querySelectorAll("a[href*='#']").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=this,i=e.getAttribute("href");if("#"!==i){var a=document.querySelector(i).offsetTop;window.scroll({top:a-100,left:0,behavior:"smooth"})}})}),$(".open-sedebar-trigger").click(function(){$(".sidebar").addClass("active")}),$(".drop-wr").click(function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")}),$(".dropdown-item").click(function(){$(".drop-wr input").closest(".drop-wr").find(".wrap-input__label").addClass("active");var t=$(this).find("p").html(),e=$(this).find("p").attr("data-value");$(".drop-wr .select-txt").html(t),$(".drop-wr input").attr("value",e),$(".drop-wr input").val(e),""!=$(".drop-wr input").val()&&$(".drop-wr input").closest(".input-item").removeClass("validation-error")}),$(".lang-variant").click(function(){var t=$(this).html();$(".cur-lang").html(t)}),$(".menu-mob__drop-wrap").click(function(){$(this).toggleClass("active")}),$.fn.hasExtension=function(t){return new RegExp("("+t.join("|").replace(/\./g,"\\.")+")$").test($(this).val())};var VanillaRunOnDomReady=function(){function t(t){if(t.files&&t.files[0]){var i=new FileReader;l=null,i.onload=function(t){d=new Image,d.onload=e,d.src=t.target.result},i.readAsDataURL(t.files[0])}}function e(){null!=l?(d=new Image,d.onload=i,d.src=l.toDataURL("image/png")):i()}function i(){null!=r&&r.destroy(),$("#views").empty(),$("#views").append('<canvas id="canvas">'),l=$("#canvas")[0],c=l.getContext("2d"),d.width>=d.height?(n=p/d.width,l.width=p,l.height=d.height*n,console.log(n)):(n=u/d.height,l.width=u,l.height=d.width*n,console.log(n)),c.drawImage(d,0,0,l.width,l.height),d=new Image,d.src=l.toDataURL("image/png"),$("#canvas").Jcrop({onChange:o,boxWidth:h,boxHeight:v,minSize:[40,40],setSelect:[0,0,40,40],aspectRatio:1,bgColor:"#0F1032"},function(){r=this}),a()}function a(){m={x:0,y:0,w:40,h:40}}function o(t){m={x:Math.round(t.x),y:Math.round(t.y),w:Math.round(t.w),h:Math.round(t.h)},$("#views").focus()}function s(){l.width=m.w,l.height=m.h,c.drawImage(d,m.x,m.y,m.w,m.h,0,0,l.width,l.height),e()}var n,r,l,c,d,m,p=$(".views").innerWidth(),u=$(".views").innerHeight(),h=800,v=800;$("#crop-file").change(function(){$(this).hasExtension([".jpg",".png",".svg"])?($(".views-wr").addClass("no-empty"),t(this)):$(this).val("")}),$("#save").click(function(){s(),$("#crop-file").val(""),$("#crop-img").attr("src",l.toDataURL("image/png")),$("#id_avatar").val(l.toDataURL("image/png")),setTimeout(function(){$(".views-wr").removeClass("no-empty"),$("#views").html("")},1)}),$("#cancel").click(function(){$("#crop-file").val(""),$(".views-wr").removeClass("no-empty"),$("#views").html("")})},alreadyrunflag=0;if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){alreadyrunflag=1,VanillaRunOnDomReady()},!1);else if(document.all&&!window.opera){document.write('<script type="text/javascript" id="contentloadtag" defer="defer" src="javascript:void(0)"><\/script>');var contentloadtag=document.getElementById("contentloadtag");contentloadtag.onreadystatechange=function(){"complete"==this.readyState&&(alreadyrunflag=1,VanillaRunOnDomReady())}}window.onload=function(){setTimeout("if (!alreadyrunflag){VanillaRunOnDomReady}",0)},document.addEventListener("DOMContentLoaded",function(){openChat=function(){if(null!==document.getElementById("launcher")){document.getElementById("launcher").contentWindow.document.body.getElementsByTagName("button")[0].click()}}});var openChat,$zopim="";$(".vip").click(function(t){document.documentElement.clientWidth>992&&(t.preventDefault(),openChat())});var zCh=function t(){""==$zopim?setTimeout(function(){t()},200):$zopim(function(){zE("webWidget","setLocale","en"),$zopim.livechat.addTags("EXRATES")})};document.documentElement.clientWidth>992&&zCh(),$(document).ready(function(){filterHeadFunc()}),$("body").on("click",".clearFilter",function(t){t.preventDefault();var e=window.location.href.split("?")[0];window.history.pushState("","",e),filterHeadFunc(),$(".analitics-item-wr").html(""),pageNumber=1,downloadPost()}),$(window).on("scroll",function(t){var e=$(".analitics-item-wr").innerHeight()-100-$(window).innerHeight();$(document).scrollTop()>e&&scrollFlag&&(scrollFlag=!1,downloadPost())}),window.addEventListener("popstate",function(t){filterHeadFunc(),$(".analitics-item-wr").html(""),pageNumber=1,downloadPost()},!1),$("input, textarea").each(function(){activeInput($(this)),console.log("rvwev")});var filterHeadFunc=function(){if(""!=(strGET=window.location.search.replace("?",""))&&$("#template").length){var t=strGET.split("=")[1];$("#template .head-filter h5").html(decodeURI(t)),$("#template .tags-block span").html(decodeURI(t)),$("#template .tags-block a").attr("href","/analytics?"+strGET),console.log(strGET);var e=$("#template .filter-block").clone();$(".analitics-inner").prepend(e)}else $(".analitics-inner .filter-block").remove()};$(document).on("click",".share-link a",function(t){console.log(t.target),t.preventDefault();var e=$(this).closest(".analitics-item").find(".hidden-link").attr("href");console.log(e),$(this).closest(".share-link").hasClass("tg")&&window.open("https://telegram.me/share/url?url="+e),$(this).closest(".share-link").hasClass("fb")&&window.open("https://facebook.com/sharer/sharer.php?u="+e),$(this).closest(".share-link").hasClass("tw")&&window.open("https://twitter.com/intent/tweet/?url="+e)});var strGET,postPreview,pageNumber=2,scrollFlag=!0;console.log(strGET);var apiUrl,downloadPost=function(){strGET=window.location.search.replace("?",""),apiUrl=""!=strGET?"/api/articles/?page="+pageNumber+"&"+strGET:"/api/articles/?page="+pageNumber,$.ajax({url:apiUrl,type:"GET",success:function(t){postPreview="",console.log(t),console.log(t.results),postPreview=t.results;for(var e=0;e<postPreview.length;e++){$("#template .hidden-link").remove(),$("#template .title h5 label").remove(),$("#template .analitics-item-in").prepend("<a class='hidden-link' href ="+postPreview[e].link+"></a>"),$("#template .title h5").html(postPreview[e].title),$("#template .title h5").append("<span class='label'>"+postPreview[e].term+"</span>"),$("#template .pic-container img").attr("src",postPreview[e].preview_image),$("#template .category a").attr("href",postPreview[e].currency_pair_link),$("#template .category a").html(postPreview[e].currency_pair),$("#template .description p").html(postPreview[e].short_description),$("#template .date p").html(postPreview[e].published_at),$("#template .view p").html(postPreview[e].views);var i=$("#template .analitics-item").clone();$(".analitics-item-wr").append(i)}pageNumber++,null!=t.next&&(scrollFlag=!0)},error:function(t,e,i){}})};$(".file-input").on("change",function(){var t=this.value.split("\\");$(".file-name").text(t[t.length-1])});
//# sourceMappingURL=custom-bundle.min.js.map
